在不可靠的信道中通信是不可能达到一致的
两军问题和拜占庭问题是不一样的
两军问题
    A和B就是否进攻某个城堡需要达成一致，A和B单独进攻都会造成失败
    A和B通信的线路是可能被劫持的
    A和B如何达成一致？
    无法达成一致，
    即使A收到了B发送的进攻信息，A也需要确认B是否知道了A已经收到了B的信息
    如此循环，无穷无尽
    
    
# 两军问题是在不可靠的信道如何达成一致，这个做不到
# 分布式异步通信中，没有任何算法能保证一致性
我们可能会觉得不可思议，因为在现在的软件系统架构中，分布式架构随处可见，比如Paxos算法。这里的区别在于FLP定理是学术定理，是遵循严格数学证明的，考虑的是最极端的情况，而Paxos算法是工程实践，学术上的极端性一般情况下很少发生，即便发生，多试几次可能就成功了
有句话是这么说的：科学告诉你什么是不可能的；工程则告诉你，付出一些代价，我可以把它变成可能。这就是工程的魅力。我很赞同


拜占庭问题首先假设了通道可信，在一个分布式的环境下10个人需要就某个目的达成一致
10个人中可能有叛徒会传送错误的指令

需要确保一致性和正确性？
一致性：统一意见
正确性：执行诚实的将军的意见

# 网络中可能出现的问题
+ 网络分区
+ 系统崩溃又立马恢复
+ 发送的包延迟
+ 发送的包丢失，对方一致收不到
+ 网络可能中断
+ 消息可能乱序

区块链的工作量证明？
    增加将军发送信息的成本，增加做叛徒的成本，如果没成功的话就白白浪费了算力
    有这些资源还不如做一个诚实的节点
    
为啥最多只能1/3个叛徒？
    就如何确定多少人通过决策才能使得投票中不出现多个不同的结果
    x:确定多少人通过
    P:总人数
    N:正直的人数
    E:邪恶的人数(他们的目的就是造成混乱，使得无法得出一个具体的结果)
    
    P=N+E
    X<N  x必须小于N才能确保能选择出一个结果
    邪恶人数可能对两种决策都投票那么就需要
    X>N/2+E 
    设想X=N/2+E，那么N/2投票A，N/2投票B，另外邪恶的人数也既投A也投B，使得无法选出一个具体的值出来
    N+1是否可以？不可以+1不知道是奇数还是偶数，+2也不可以，+2这两个又一边一个了
    X<N/2+E不可以
    所以只能X>N/2+E
    
    也就是三个不等式了
    P=N+E
    X<N
    X>N/2+E
    解得
    X<P-E
    P-E>N/2+E
    P>N/2+2E
    2P>N+4E
    2P>P+3E
    P>3E
    E<1/3P
    
    正直的人数必须超过总人数的2/3我们才能找到一个可行的X作为决策通过的条件
    
    现在假设邪恶的人数不超过总人数的1/3，如何才能保证投票顺利进行从而得出一个
    正确的结果？
    
    拜占庭只能容忍不到1/3的人数背叛
    
    
    
    
    
    
    
    
    